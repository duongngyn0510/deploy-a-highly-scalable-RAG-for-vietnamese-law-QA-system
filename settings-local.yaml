# poetry install --extras "ui llms-llama-cpp vector-stores-qdrant embeddings-huggingface"
server:
  env_name: ${APP_ENV:local}
  port: ${PORT:8089}
# llm:
#   mode: llamacpp
#   # Should be matching the selected model
#   max_new_tokens: 512
#   context_window: 3900
#   tokenizer: Viet-Mistral/Vistral-7B-Chat

# llamacpp:
#   prompt_style: "mistral"
#   llm_hf_repo_id: uonlp/Vistral-7B-Chat-gguf
#   llm_hf_model_file: ggml-vistral-7B-chat-q8.gguf


llm:
  mode: vllm

embedding:
  mode: text_embeddings_inference

vectorstore:
  database: weaviate

vllm:
  vllm_endpoint: http://103.145.79.20:6017/v1/completions
  # api_url: http://localhost:8000/v1/completions
  llm_model: Viet-Mistral/Vistral-7B-Chat
  prompt_style: default
  temperature: 1
  max_tokens: 1024

text_embeddings_inference:
  text_embeddings_inference_endpoint: http://localhost:8081
  timeout: 60

weaviate:
  weaviate_endpoint: http://localhost:9091
  index_name: Law07032024

# rag:
#   similarity_top_k: 50
#   #This value controls how many "top" documents the RAG returns to use in the context.
#   #similarity_value: 0.45
#   #This value is disabled by default.  If you enable this settings, the RAG will only use articles that meet a certain percentage score.
  
#   custom_retriever:
#     enabled: true
#     retrieval_top_k: 3
#     dense_threshold: 0
#     # RAG will only use articles that meet a 0.35 percentage dense score.
#     bm25_threshold: 0
#     # RAG will only use articles that meet a 8.0 percentage bm25 score.

#   rerank:
#     enabled: false
#     top_n: 3
#     mode: model_api

model_api_rerank:
  model_api_endpoint: http://localhost:8084/rerank
  
ui:
  enabled: true
  path: /
  default_chat_system_prompt: >
    Bạn là một trợ lí Tiếng Việt nhiệt tình và trung thực. 
    Hãy luôn trả lời một cách hữu ích nhất có thể, đồng thời giữ an toàn.
    Câu trả lời của bạn không nên chứa bất kỳ nội dung gây hại, phân biệt chủng tộc, phân biệt giới tính, độc hại, nguy hiểm hoặc bất hợp pháp nào. 
    Hãy đảm bảo rằng các câu trả lời của bạn không có thiên kiến xã hội và mang tính tích cực.Nếu một câu hỏi không có ý nghĩa hoặc không hợp lý về mặt thông tin, hãy giải thích tại sao thay vì trả lời một điều gì đó không chính xác. 
    Nếu bạn không biết câu trả lời cho một câu hỏi, hãy trẳ lời là bạn không biết và vui lòng không chia sẻ thông tin sai lệch
  delete_file_button_enabled: true
  delete_all_files_button_enabled: true

